/*
    ?? ???? ??
    - ??(Cryptography) : ?? 불??? ??? ???거나 ?? ???? 메시?? ?? ??? ??? ???? 기술
	- ??(Plaintext)    : ?? ??? ??? 메시?
	- ???(Ciphertext) : ?? 불??? ??? 메시?
	- ???(Encryption) : ?문을 ??문으? ???? 과정
	- 복호?(Decryption) : ??문을 ?문으? ???? 과정
	- ???? ??(?? 비?? ??) : ?????? 복호??? 같? ??
	- 비??? ??(?? 공개? ??) : ?????? 복호??? ?? ??  
    
    ?? ?방향(?방향) ??? ?고리?(SHA-256 Secure Hash Algorithm)

	?방향 ???? ?문을 ?????? ?? ?문으? ??리는 ?(복호?)? ? ? ?? ??? ??. 
	많이 ???? ?? ?고리즘? SHA-256 ?????. 
	? ?고리즘? 주로 ???? ???? ? ?????, ????? 경우 복호??? ?별할 ??? ?? ?문이?.
	e-mail ?? ??? ?? ??? 개인?? ?경등? ??? ??? 값이 무엇?? ?문으? 만들 ??? ??? 
	????? ?문으? 만들 ??? ?? ?문에 SHA-256 ? 주로 ?????.
	 
	1? 같? ??? 값을 SHA-256?? ????? 경우 ?? 같? 값이 ??? ?문에 
	비?번호 ??? ??? 길이?? 복잡?? ???? ???? ????? ?추하?? ???? ?? ??.
	?? ??? 출력?? ?축된 문장? ?????(Digest)?? ???, ?????? 출력길이?
	224, 256, 384, 512 bit ? ????. ?? 256bit? 출력 길이? 갖는 것을 SHA-256 ??? ?른다. 

*/

package jdbc.util;

import java.security.MessageDigest;

/**
 * ?방향 ??? ?고리즘인 SHA256 ???? ???? ???
 */
public class SHA256 { 

	/**
     * SHA256 ?? ??? ??.
     * @param planText ???? 문자?
     * @return String
     */
	public static String encrypt(String planText) {
        
		try{
        	/*
		     1. SHA-256?? ??
	             - MessageDigest객체 ??? ?고리즘을 "SHA-256"?? ?? 만든?. 
	                            ??? ???? 바이? 배열???? 바이?? ???(?? ???)??.
            */
        	MessageDigest md = MessageDigest.getInstance("SHA-256");
            md.update(planText.getBytes());
            byte byteData[] = md.digest();
           

            /*
             2. ??? ???? 바이? 배열???? 바이?? ???(?? ???)???
                              ?것을 16진수 문자?(String)????? ?????.
            */
            StringBuffer sb = new StringBuffer();
            	
            for(int i=0; i < byteData.length; i++) {
            	sb.append(Integer.toString((byteData[i] & 0xff) + 0x100, 16).substring(1)); 
            }
            
            StringBuffer hexsb = new StringBuffer();
            
            for (int i=0; i<byteData.length;i++) {
                String hex = Integer.toHexString(0xff & byteData[i]);
                if(hex.length()==1){
                    hexsb.append('0');
                }
                hexsb.append(hex);
            }

            return hexsb.toString();
            
        } catch(Exception e){
            e.printStackTrace();
            throw new RuntimeException();
        }
    }// end of encrypt(String planText)------------------------
	 
	
}// end of class SHA256 ////////////////////////////////////////////
